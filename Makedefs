#CC = i586-mingw32msvc-gcc
#CXX = i586-mingw32msvc-g++
#LD = i586-mingw32msvc-g++
#AR = i586-mingw32msvc-ar
#WINDRES = i586-mingw32msvc-windres

LD = $(CXX)

CFLAGS += -Wall -Wextra -s -O3
CXXFLAGS += -Wall -Wextra -s -O3
#Comment the above two lines and uncomment the below two lines to compile with debug symbols.
#CFLAGS += -Wall -Wextra -O0 -g
#CXXFLAGS += -Wall -Wextra -O0 -g

ifneq ($(OS),Windows_NT)
UHID=1
ifeq ($(UHID),1)
CFLAGS += -DUHID
endif
endif

GIMXCONFIGEDITOR_CPPFLAGS = -I../shared/configeditor/include $(GIMXCONTROLLER_CPPFLAGS)
GIMXCONFIGUPDATER_CPPFLAGS = -I../shared/configupdater
GIMXCONTROLLER_CPPFLAGS = -I../shared/controller/include
GIMXHID_CPPFLAGS = -I../shared/gasync/include
GIMXINPUT_CPPFLAGS = -I../shared/gasync/include
GIMXPOLL_CPPFLAGS = -I../shared/gasync/include
GIMXPRIO_CPPFLAGS = -I../shared/gasync/include
GIMXSERIAL_CPPFLAGS = -I../shared/gasync/include
GIMXTIMER_CPPFLAGS = -I../shared/gasync/include
GIMXUHID_CPPFLAGS = -I../shared/gasync/include
GIMXUSB_CPPFLAGS = -I../shared/gasync/include
GIMXGPP_CPPFLAGS = -I../shared/gpp
GIMXUPDATER_CPPFLAGS = -I../shared/updater

GIMXCONFIGEDITOR_LDFLAGS = -L../shared/configeditor
GIMXCONFIGUPDATER_LDFLAGS = -L../shared/configupdater
GIMXCONTROLLER_LDFLAGS = -L../shared/controller
GIMXHID_LDFLAGS = -L../shared/gasync/src/hid
GIMXINPUT_LDFLAGS = -L../shared/gasync/src/input
GIMXPOLL_LDFLAGS = -L../shared/gasync/src/poll
GIMXPRIO_LDFLAGS = -L../shared/gasync/src/prio
GIMXSERIAL_LDFLAGS = -L../shared/gasync/src/serial
GIMXTIMER_LDFLAGS = -L../shared/gasync/src/timer
GIMXUHID_LDFLAGS = -L../shared/gasync/src/uhid
GIMXUSB_LDFLAGS = -L../shared/gasync/src/usb
GIMXGPP_LDFLAGS = -L../shared/gpp
GIMXUPDATER_LDFLAGS = -L../shared/updater

GIMXCONFIGEDITOR_LDLIBS = -lgimxconfigeditor
GIMXCONFIGUPDATER_LDLIBS = -lgimxconfigupdater
GIMXCONTROLLER_LDLIBS = -lgimxcontroller
GIMXHID_LDLIBS = -lgimxhid
GIMXINPUT_LDLIBS = -lgimxinput
GIMXPOLL_LDLIBS = -lgimxpoll
GIMXPRIO_LDLIBS = -lgimxprio
GIMXSERIAL_LDLIBS = -lgimxserial
GIMXTIMER_LDLIBS = -lgimxtimer
GIMXUHID_LDLIBS = -lgimxuhid
GIMXUSB_LDLIBS = -lgimxusb
GIMXGPP_LDLIBS = -lgimxgpp
GIMXUPDATER_LDLIBS = -lgimxupdater

ifeq ($(OS),Windows_NT)
GIMXINPUT_CPPFLAGS += `sdl2-config --cflags`
endif

ARFLAGS=rcs

ifneq ($(OS),Windows_NT)
SHLIB_SUFFIX=.so
else
SHLIB_SUFFIX=.dll
endif
